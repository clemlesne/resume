$color--1: #5DD0D6;
$color--4: #dee0de;
$color--5: #b7bbb7;
$color--6: #fff;

$resume--padding: 1cm;
$resume__view--margin: 32px;
$resume__header--bg: $color--1;
$resume__content--bg: $color--4;
$resume__footer--color: $color--5;

$header__margin--v: $resume--padding;
$header__padding--bottom: $resume--padding;
$header__main__top__details__icon--margin-h: 7px;
$header__main__top__details__container--padding: 12px;


$container--header--bg: $resume__header--bg;
$container__padding--v: $header__margin--v;
$container__padding--h: $resume--padding;

$content--bg: $color--6;
$content--padding: 12px;
$content__header--bg: $resume__content--bg;
$content__header--margin: $content--padding;
$content--horizontal__indicator--bg: $resume__header--bg;
$content--horizontal__indicator--width: 2px;
$content--horizontal__indicator--height: $content--horizontal__indicator--width * 2;

.resume {
  width: calc(21.0cm + #{$resume__view--margin} *2);
  height: 29.7cm;

  margin: 0 auto;
}

.resume__container {
  @extend %shadow-4;

  @include rem(margin, $resume__view--margin);

  display: flex;
  flex-direction: column;
  align-items: stretch;
  justify-content: flex-start;

  height: 29.7cm;
  width: 21.0cm;
  box-sizing: content-box;

  background: $resume__content--bg;
  position: relative;
}

.container {
  box-sizing: border-box;
}

.container--header {
  @include rem(padding, $container__padding--v $container__padding--h);

  background: $container--header--bg;
  color: #000;
  position: relative;
}

.header__canvas {
  position: absolute;
  top: 0;
  left: 0;
  height: 100%;
  width: 100%;
  z-index: 0;
}

.header__container {
  @include rem(margin, 0 $content--padding $header__padding--bottom);

  z-index: 1;
  position: relative;

  display: flex;
  flex-direction: row;
  align-items: center;
  justify-content: space-between;

  > :not(:last-child) {
    @include rem(margin-right, 16px);
  }
}

.header__image {
  @extend %shadow-2;

  flex-shrink: 0;

  &,
  img {
    @extend %border-radius;
  }

  img {
    width: auto;
    display: block;
  }
}

.header__image {
  background: #fff;
}

.header__image--head {
  &,
  img {
    border-radius: 50%;
  }

  img {
    height: 2.2cm;
  }
}

.header__image--aside {
  &,
  img {
    @extend %border-radius;
  }

  img {
    height: 1.6cm;
  }
}

.header__main {
  flex-grow: 1;

  display: flex;
  flex-direction: column;
  align-items: stretch;
  justify-content: center;
}

.header__main__top {
  display: flex;
  flex-direction: row;
  flex-wrap: nowrap;
  align-items: flex-end;
}

.header__main__top__details__container-0 {
  @include rem(margin-left, 24px);

  display: flex;
  align-items: center;
  justify-content: center;
  flex-direction: row;

  * {
    @include rem(font-size, 11px);
    @include rem(line-height, 7px);
  }
}

.header__main__top__details__container-1 {
  > div {
    &:not(:last-child) {
      @include rem(margin-bottom, 3px);
    }
  }
}

.header__main__top__details__container-1--left {
  @include rem(padding-right, $header__main__top__details__container--padding);

  border-right: 1px solid #333333;
  text-align: right;

  > div {
    span {
      @include rem(margin-right, $header__main__top__details__icon--margin-h);
    }
  }
}

.header__main__top__details__container-1--right {
  @include rem(padding-left, $header__main__top__details__container--padding);

  text-align: left;

  > div {
    span {
      @include rem(margin-left, $header__main__top__details__icon--margin-h);
    }
  }
}

.header__main__bottom {
  @include rem(margin-top, 12px);

  letter-spacing: 0;
}

.container--content {
  @include rem(margin, $container__padding--v $container__padding--h);

  position: relative;
  flex-grow: 1;

  display: flex;
  flex-direction: column;
  align-items: stretch;
  justify-content: space-between;
}

.content__container {
  @include rem(margin-top, -(2*$header__margin--v + $content__margin));
}

%content--style {
  @extend %border-radius;

  @include rem(padding, $content--padding $content--padding);

  background: $content--bg;

  margin: -1px;
  border: 1px solid $resume__content--bg;
}

.content {
  @extend %content--style;

  &:not(:last-child) {
    @include rem(margin-bottom, $content__margin);
  }

  header {
    @include rem(margin-bottom, $content__header--margin);

    display: block;
    text-align: left;
    position: relative;
    overflow: hidden;

    &:after {
      @include rem(height, 3px);

      content: "";
      position: absolute;
      top: calc(50% - 1px);
      width: 100%;

      background: repeating-linear-gradient(-45deg, $content__header--bg, $content__header--bg 1px, transparent 1px, transparent 3px);
    }

    h2 {
      @include rem(margin-right, $content__header--margin);

      display: inline-block;
    }
  }

  tr {
    > td {
      &:last-child {

        h3 {
          position: relative;

          line-height: 1.1;

          figure {
            display: inline-block;
            position: relative;
            width: fit-content;

            height: 1.1em;

            span {
              display: inline-block;
              height: 100%;
              
              padding-right: 17.66666%;
              width: fit-content;
            }

            a {
              display: inline-block;
              height: 100%;
            }

            img {
              display: inline-block;
              height: 100%;
              width: auto;

              transform-origin: 12.5% 87.5%;
              transform: scale(1.25);
            }
          }

          figure + span {
            &:before {
              content: '\00a0';
            }
          }
        }

        h3 + div {
          text-align: justify;

          aside {
            @include rem(margin-top, 2px);
          }

          i {
            @include rem(margin-right, 4px);
          }
        }

        ul {
          @include rem(margin-left, 32px);

          list-style-type: circle;
          list-style-position: outside;
        }
      }
    }
  }
}

.content--vertical {

  table {
    table-layout: fixed;
    width: 100%;
  }

  tr {
    &:not(:last-child) > td {
      @include rem(padding-bottom, $content--padding);
    }

    > td {
      &:first-child {
        width: (100% * (3 / 12));
      }
    }
  }
}

.content--vertical__sub {
  &:not(:first-child) {
    @include rem(margin-top, $content__header--margin);
  }
}

.content--vertical__sub--skills {
  > table {
    tr {
      > td {
        &:first-child {
          width: 35%;
        }
      }
    }
  }
}

.content--horizontal {

  tbody {
    display: flex;
    flex-direction: row-reverse;
    align-self: stretch;
  }

  tr {
    display: flex;
    align-items: flex-start;

    flex-grow: 1;
    flex-basis: 0;

    &:before {
      @include rem(height, $content--horizontal__indicator--width);

      content: '';
      position: absolute;
      left: 0;
      width: 100%;

      background: $content--horizontal__indicator--bg;
    }

    &:nth-child(2n) {
      flex-direction: column;
      justify-content: flex-start;

      transform: translateY(50%);

      &:before {
        @include rem(top, - $content--horizontal__indicator--width / 2);
      }

      > td {
        &:first-child {
          @include rem(padding-top, $content--padding / 2 + $content--horizontal__indicator--height);

          position: relative;

          &:before {
            @include rem(top, $content--horizontal__indicator--width / 2);
          }
        }

        &:last-child {

          > div {
            @include rem(margin-top, $content--padding / 2);

            margin-bottom: 30%;
          }
        }
      }
    }

    &:nth-child(2n+1) {
      flex-direction: column-reverse;
      justify-content: flex-start;

      transform: translateY(-50%);


      &:before {
        @include rem(bottom, - $content--horizontal__indicator--width / 2);
      }

      > td {
        &:first-child {
          @include rem(padding-bottom, $content--padding / 2 + $content--horizontal__indicator--height);

          &:before {
            @include rem(bottom, $content--horizontal__indicator--width / 2);
          }
        }

        &:last-child {
          transform: translateX(-42.85714%);

          > div {
            @include rem(margin-bottom, $content--padding / 2);

            margin-top: calc(30% + (1rem + #{$content--padding}) / 2);
            margin-top: calc(30% + #{(1rem + rem($content--padding)) / 2});
          }
        }
      }
    }

    > td {
      &:first-child {
        position: relative;

        &:before {
          @include rem(width, $content--horizontal__indicator--width);
          @include rem(height, $content--horizontal__indicator--height);

          content: '';
          position: absolute;
          left: 50%;
          transform: translateX(-50%);

          background: $content--horizontal__indicator--bg;
        }

        h4 {
          @include rem(font-size, 11px);

          font-weight: 700;
        }
      }

      &:last-child {
        width: 175%;
      }
    }
  }
}

.container--footer {
  @include rem(left, $container__padding--v);
  @include rem(right, $container__padding--v);
  @include rem(bottom, $container__padding--v / 2);

  position: absolute;

  display: flex;
  align-items: baseline;
  justify-content: space-between;

  color: $resume__footer--color;
}

.container--footer--left {
  flex-direction: row;

  .container--footer__qrcode {
    > span {
      @extend %font--second;

      flex-direction: row;
      align-items: flex-start;

      text-align: left;
      left: 105%;
    }

    .svg-inline--fa {
      @include rem(margin-right, 4px);
    }
  }

  .fa-long-arrow-alt-right {
    display: none;
  }
}

.container--footer--right {
  flex-direction: row-reverse;

  .container--footer__qrcode {
    > span {
      @extend %font--second;

      flex-direction: row-reverse;
      align-items: flex-end;

      text-align: right;
      right: 105%;
    }

    .svg-inline--fa {
      @include rem(margin-left, 4px);
    }
  }

  .fa-long-arrow-alt-left {
    display: none;
  }
}

.container--footer__qrcode {
  position: relative;

  figure {
    display: inline-block;

    background: $content--bg;
  }

  img {
    display: block;

    height: 3cm;
  }

  > span {
    @extend %font--second;

    position: absolute;
    top: 25%;

    width: fit-content;
    width: -moz-max-content;
    max-width: 100%;

    display: inline-flex;

    transform: translateY(-50%) rotateZ(-4deg) rotateY(-20deg);
    line-height: 1.1em;
    color: initial;
  }
}